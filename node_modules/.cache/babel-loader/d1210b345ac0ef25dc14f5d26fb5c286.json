{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: !0\n}), Object.defineProperty(exports, \"createApiUrl\", {\n  enumerable: !0,\n  get: function get() {\n    return o.createApiUrl;\n  }\n}), Object.defineProperty(exports, \"fetchFromApiUrl\", {\n  enumerable: !0,\n  get: function get() {\n    return o.fetchFromApiUrl;\n  }\n}), Object.defineProperty(exports, \"fetchFromApi\", {\n  enumerable: !0,\n  get: function get() {\n    return o.fetchFromApi;\n  }\n}), Object.defineProperty(exports, \"imageProxy\", {\n  enumerable: !0,\n  get: function get() {\n    return o.imageProxy;\n  }\n}), exports.default = void 0;\n\nvar e,\n    t = function (e) {\n  if (e && e.__esModule) return e;\n  var t = {};\n  if (null != e) for (var r in e) {\n    if (Object.prototype.hasOwnProperty.call(e, r)) {\n      var o = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(e, r) : {};\n      o.get || o.set ? Object.defineProperty(t, r, o) : t[r] = e[r];\n    }\n  }\n  return t.default = e, t;\n}(require(\"react\")),\n    r = require(\"./components/Card\"),\n    o = require(\"./utils\");\n\nfunction n(e) {\n  return (n = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n    return typeof e;\n  } : function (e) {\n    return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n  })(e);\n}\n\nfunction i() {\n  return (i = Object.assign || function (e) {\n    for (var t = arguments, r = 1; r < arguments.length; r++) {\n      var o = t[r];\n\n      for (var n in o) {\n        Object.prototype.hasOwnProperty.call(o, n) && (e[n] = o[n]);\n      }\n    }\n\n    return e;\n  }).apply(this, arguments);\n}\n\nfunction a(e) {\n  for (var t = arguments, r = 1; r < arguments.length; r++) {\n    var o = null != t[r] ? t[r] : {},\n        n = Object.keys(o);\n    \"function\" == typeof Object.getOwnPropertySymbols && (n = n.concat(Object.getOwnPropertySymbols(o).filter(function (e) {\n      return Object.getOwnPropertyDescriptor(o, e).enumerable;\n    }))), n.forEach(function (t) {\n      p(e, t, o[t]);\n    });\n  }\n\n  return e;\n}\n\nfunction l(e) {\n  return (l = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n    return e.__proto__ || Object.getPrototypeOf(e);\n  })(e);\n}\n\nfunction c(e, t) {\n  return (c = Object.setPrototypeOf || function (e, t) {\n    return e.__proto__ = t, e;\n  })(e, t);\n}\n\nfunction u(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\n\nfunction p(e, t, r) {\n  return t in e ? Object.defineProperty(e, t, {\n    value: r,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[t] = r, e;\n}\n\nfunction f(t, r, o, n) {\n  var i = arguments;\n  e || (e = \"function\" == typeof Symbol && Symbol.for && Symbol.for(\"react.element\") || 60103);\n  var a = t && t.defaultProps,\n      l = arguments.length - 3;\n  if (r || 0 === l || (r = {\n    children: void 0\n  }), r && a) for (var c in a) {\n    void 0 === r[c] && (r[c] = a[c]);\n  } else r || (r = a || {});\n  if (1 === l) r.children = n;else if (l > 1) {\n    for (var u = new Array(l), p = 0; p < l; p++) {\n      u[p] = i[p + 3];\n    }\n\n    r.children = u;\n  }\n  return {\n    $$typeof: e,\n    type: t,\n    key: void 0 === o ? null : \"\" + o,\n    ref: null,\n    props: r,\n    _owner: null\n  };\n}\n\nvar s = function s(e) {\n  var o = e.url,\n      n = e.size,\n      i = e.title,\n      a = e.description;\n  return f(t.Fragment, {}, void 0, f(r.CardMedia, {\n    image: e.image,\n    video: e.video,\n    url: o,\n    cardSize: n,\n    autoPlay: e.autoPlay,\n    controls: e.controls,\n    muted: e.muted,\n    loop: e.loop,\n    playsInline: e.playsInline\n  }), f(r.CardContent, {\n    className: \"microlink_card__content\",\n    title: i,\n    description: a,\n    url: o,\n    cardSize: n\n  }));\n},\n    y = function (e) {\n  function y() {\n    var e,\n        t,\n        r,\n        i = arguments;\n    !function (e, t) {\n      if (!(e instanceof y)) throw new TypeError(\"Cannot call a class as a function\");\n    }(this);\n\n    for (var c = arguments.length, f = new Array(c), s = 0; s < c; s++) {\n      f[s] = i[s];\n    }\n\n    return this, r = (e = l(y)).call.apply(e, [this].concat(f)), t = !r || \"object\" !== n(r) && \"function\" != typeof r ? u(this) : r, p(u(u(t)), \"state\", {\n      loading: !0\n    }), p(u(u(t)), \"fetchData\", function () {\n      var e = t.props;\n      (e.noFetch || !e.url ? Promise.resolve({}) : (0, o.fetchFromApi)(t.props)).then(function (e) {\n        return t.mergeData(e.data);\n      });\n    }), p(u(u(t)), \"mergeData\", function (e) {\n      var r = t.props.setData,\n          n = [].concat(t.props.image),\n          i = (0, o.isFunction)(r) ? r(e) : a({}, e, r),\n          l = (0, o.someProp)(i, n),\n          c = (0, o.getUrlPath)(l),\n          u = l || {};\n      t.setState({\n        color: u.color,\n        backgroundColor: u.background_color,\n        title: i.title,\n        description: i.description,\n        url: i.url,\n        loading: !1,\n        video: i.video,\n        image: c\n      });\n    }), t;\n  }\n\n  var d;\n  return function (e, t) {\n    if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n    e.prototype = Object.create(t && t.prototype, {\n      constructor: {\n        value: e,\n        writable: !0,\n        configurable: !0\n      }\n    }), t && c(e, t);\n  }(y, t.Component), (d = [{\n    key: \"componentDidMount\",\n    value: function value() {\n      this.fetchData();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function value(e) {\n      e.url !== this.props.url && this.fetchData();\n    }\n  }, {\n    key: \"render\",\n    value: function value() {\n      var e = this.state,\n          n = e.title,\n          a = e.color,\n          l = e.backgroundColor,\n          c = e.url,\n          u = e.loading,\n          p = e.description,\n          y = e.image,\n          d = e.video,\n          m = this.props,\n          b = m.autoPlay,\n          g = m.controls,\n          v = m.loop,\n          h = m.muted,\n          O = m.playsInline,\n          P = m.className,\n          j = m.size,\n          w = m.loading,\n          _ = function (e, t) {\n        if (null == e) return {};\n\n        var r,\n            o,\n            n = function (e, t) {\n          if (null == e) return {};\n          var r,\n              o,\n              n = {},\n              i = Object.keys(e);\n\n          for (o = 0; o < i.length; o++) {\n            t.indexOf(r = i[o]) >= 0 || (n[r] = e[r]);\n          }\n\n          return n;\n        }(e, t);\n\n        if (Object.getOwnPropertySymbols) {\n          var i = Object.getOwnPropertySymbols(e);\n\n          for (o = 0; o < i.length; o++) {\n            t.indexOf(r = i[o]) >= 0 || Object.prototype.propertyIsEnumerable.call(e, r) && (n[r] = e[r]);\n          }\n        }\n\n        return n;\n      }(m, [\"autoPlay\", \"controls\", \"loop\", \"muted\", \"playsInline\", \"className\", \"size\", \"loading\"]),\n          S = (0, o.isNil)(w) ? u : w;\n\n      return t.default.createElement(r.CardWrap, i({\n        className: P ? \"microlink_card \".concat(P) : \"microlink_card\",\n        href: c,\n        title: n,\n        cardSize: j,\n        color: a,\n        backgroundColor: l,\n        loading: S\n      }, _), S ? f(r.CardEmpty, {\n        cardSize: j\n      }) : f(s, {\n        title: n,\n        description: p,\n        url: c,\n        image: y,\n        video: d,\n        autoPlay: b,\n        controls: g,\n        loop: v,\n        muted: h,\n        playsInline: O,\n        size: j\n      }));\n    }\n  }]) && function (e, t) {\n    for (var r = 0; r < t.length; r++) {\n      var o = t[r];\n      o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);\n    }\n  }(y.prototype, d), y;\n}();\n\ny.defaultProps = a({\n  apiKey: void 0,\n  autoPlay: !0,\n  controls: !0,\n  image: [\"screenshot\", \"image\", \"logo\"],\n  loop: !0,\n  muted: !0,\n  playsInline: !0,\n  reverse: !1,\n  size: \"normal\"\n}, o.defaultApiParameters), exports.default = y;","map":null,"metadata":{},"sourceType":"script"}