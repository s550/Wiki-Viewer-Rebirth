{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: !0\n});\n\nvar e = Object.assign || function (e) {\n  for (var t = arguments, i = 1; i < arguments.length; i++) {\n    var n = t[i];\n\n    for (var r in n) {\n      Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);\n    }\n  }\n\n  return e;\n},\n    t = function () {\n  function e(e, t) {\n    for (var i = 0; i < t.length; i++) {\n      var n = t[i];\n      n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n    }\n  }\n\n  return function (t, i, n) {\n    return i && e(t.prototype, i), n && e(t, n), t;\n  };\n}(),\n    i = require(\"react\"),\n    n = function (n) {\n  function r(e) {\n    !function (e, t) {\n      if (!(e instanceof r)) throw new TypeError(\"Cannot call a class as a function\");\n    }(this);\n\n    var t = function (e, t) {\n      if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n      return !t || \"object\" != typeof t && \"function\" != typeof t ? e : t;\n    }(this, (r.__proto__ || Object.getPrototypeOf(r)).call(this, e));\n\n    return t.state = {\n      noClamp: !1,\n      text: \".\"\n    }, t.element = null, t.original = e.text, t.lineHeight = 0, t.start = 0, t.middle = 0, t.end = 0, t.debounced = t.debounce(t.action), t;\n  }\n\n  return function (e, t) {\n    if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof t);\n    e.prototype = Object.create(t && t.prototype, {\n      constructor: {\n        value: e,\n        enumerable: !1,\n        writable: !0,\n        configurable: !0\n      }\n    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n  }(r, i.Component), t(r, [{\n    key: \"componentDidMount\",\n    value: function value() {\n      window.addEventListener(\"resize\", this.debounced), this.props.text && (this.lineHeight = this.element.clientHeight + 1, this.clampLines());\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function value() {\n      window.removeEventListener(\"resize\", this.debounced);\n    }\n  }, {\n    key: \"debounce\",\n    value: function value(e) {\n      var t = this,\n          i = void 0,\n          n = function n() {\n        i = null, e.apply(t);\n      };\n\n      return function () {\n        var r = !i;\n        clearTimeout(i), i = setTimeout(n, t.props.debounce), r && e.apply(t);\n      };\n    }\n  }, {\n    key: \"action\",\n    value: function value() {\n      this.original && this.setState({\n        noClamp: !1\n      }, this.clampLines);\n    }\n  }, {\n    key: \"clampLines\",\n    value: function value() {\n      var e = this,\n          t = this.props,\n          i = t.ellipsis,\n          n = this.lineHeight * t.lines + 1,\n          o = i === r.defaultProps.ellipsis ? 5 : 1.2 * i.length;\n\n      for (this.start = 0, this.middle = 0, this.end = this.original.length; this.start <= this.end;) {\n        if (this.middle = Math.floor((this.start + this.end) / 2), this.element.innerText = this.original.slice(0, this.middle), this.middle === this.original.length) return void this.setState({\n          text: this.original,\n          noClamp: !0\n        });\n        this.moveMarkers(n);\n      }\n\n      var s = this.original.slice(0, Math.max(this.middle - o, 0)).trim() + i;\n      this.setState({\n        text: s\n      }, function () {\n        e.element.innerText = e.state.text;\n      });\n    }\n  }, {\n    key: \"moveMarkers\",\n    value: function value(e) {\n      this.element.clientHeight <= e ? this.start = this.middle + 1 : this.end = this.middle - 1;\n    }\n  }, {\n    key: \"render\",\n    value: function value() {\n      var t = this,\n          n = this.state.text,\n          r = this.props,\n          o = r.accessibility,\n          s = r.is,\n          l = r.text,\n          a = function (e, t) {\n        var i = {};\n\n        for (var n in e) {\n          t.indexOf(n) >= 0 || Object.prototype.hasOwnProperty.call(e, n) && (i[n] = e[n]);\n        }\n\n        return i;\n      }(r, [\"accessibility\", \"is\", \"text\", \"lines\", \"debounce\", \"ellipsis\"]),\n          u = e({\n        ref: function ref(e) {\n          return t.element = e;\n        }\n      }, o ? {\n        title: l\n      } : {}, a);\n\n      return l ? (0, i.createElement)(s, u, n) : null;\n    }\n  }]), r;\n}();\n\nn.defaultProps = {\n  accessibility: !0,\n  is: \"div\",\n  lines: 3,\n  ellipsis: \"â€¦\",\n  debounce: 300\n}, exports.default = n;","map":null,"metadata":{},"sourceType":"script"}