{"version":3,"file":"index.m.js","sources":["index.js"],"sourcesContent":["Object.defineProperty(exports,\"__esModule\",{value:!0}),Object.defineProperty(exports,\"createApiUrl\",{enumerable:!0,get:function(){return o.createApiUrl}}),Object.defineProperty(exports,\"fetchFromApiUrl\",{enumerable:!0,get:function(){return o.fetchFromApiUrl}}),Object.defineProperty(exports,\"fetchFromApi\",{enumerable:!0,get:function(){return o.fetchFromApi}}),Object.defineProperty(exports,\"imageProxy\",{enumerable:!0,get:function(){return o.imageProxy}}),exports.default=void 0;var e,t=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t.default=e,t}(require(\"react\")),r=require(\"./components/Card\"),o=require(\"./utils\");function n(e){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=arguments,r=1;r<arguments.length;r++){var o=t[r];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)t.indexOf(r=i[o])>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t.indexOf(r=i[o])>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function a(e){for(var t=arguments,r=1;r<arguments.length;r++){var o=null!=t[r]?t[r]:{},n=Object.keys(o);\"function\"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){p(e,t,o[t])})}return e}function c(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(t,r,o,n){var i=arguments;e||(e=\"function\"==typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103);var l=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={children:void 0}),r&&l)for(var c in l)void 0===r[c]&&(r[c]=l[c]);else r||(r=l||{});if(1===a)r.children=n;else if(a>1){for(var u=new Array(a),f=0;f<a;f++)u[f]=i[f+3];r.children=u}return{$$typeof:e,type:t,key:void 0===o?null:\"\"+o,ref:null,props:r,_owner:null}}var d=function(e){var o=e.url,n=e.size,i=e.title,l=e.description;return y(t.Fragment,{},void 0,y(r.CardMedia,{image:e.image,video:e.video,url:o,cardSize:n,autoPlay:e.autoPlay,controls:e.controls,muted:e.muted,loop:e.loop,playsInline:e.playsInline}),y(r.CardContent,{className:\"microlink_card__content\",title:i,description:l,url:o,cardSize:n}))},b=function(e){function b(){var e,t,r,i,l=arguments;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,b);for(var c=arguments.length,f=new Array(c),y=0;y<c;y++)f[y]=l[y];return r=this,i=(e=u(b)).call.apply(e,[this].concat(f)),t=!i||\"object\"!==n(i)&&\"function\"!=typeof i?s(r):i,p(s(s(t)),\"state\",{loading:!0}),p(s(s(t)),\"fetchData\",function(){var e=t.props;(e.noFetch||!e.url?Promise.resolve({}):(0,o.fetchFromApi)(t.props)).then(function(e){return t.mergeData(e.data)})}),p(s(s(t)),\"mergeData\",function(e){var r=t.props.setData,n=[].concat(t.props.image),i=(0,o.isFunction)(r)?r(e):a({},e,r),l=(0,o.someProp)(i,n),c=(0,o.getUrlPath)(l),u=l||{};t.setState({color:u.color,backgroundColor:u.background_color,title:i.title,description:i.description,url:i.url,loading:!1,video:i.video,image:c})}),t}var m,g,v;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(b,t.Component),m=b,(g=[{key:\"componentDidMount\",value:function(){this.fetchData()}},{key:\"componentDidUpdate\",value:function(e){e.url!==this.props.url&&this.fetchData()}},{key:\"render\",value:function(){var e=this.state,n=e.title,a=e.color,c=e.backgroundColor,u=e.url,f=e.loading,s=e.description,p=e.image,b=e.video,m=this.props,g=m.autoPlay,v=m.controls,O=m.loop,h=m.muted,P=m.playsInline,j=m.className,w=m.size,_=m.loading,S=l(m,[\"autoPlay\",\"controls\",\"loop\",\"muted\",\"playsInline\",\"className\",\"size\",\"loading\"]),k=(0,o.isNil)(_)?f:_;return t.default.createElement(r.CardWrap,i({className:j?\"microlink_card \".concat(j):\"microlink_card\",href:u,title:n,cardSize:w,color:a,backgroundColor:c,loading:k},S),k?y(r.CardEmpty,{cardSize:w}):y(d,{title:n,description:s,url:u,image:p,video:b,autoPlay:g,controls:v,loop:O,muted:h,playsInline:P,size:w}))}}])&&c(m.prototype,g),v&&c(m,v),b}();b.defaultProps=a({apiKey:void 0,autoPlay:!0,controls:!0,image:[\"screenshot\",\"image\",\"logo\"],loop:!0,muted:!0,playsInline:!0,reverse:!1,size:\"normal\"},o.defaultApiParameters),exports.default=b;\n//# sourceMappingURL=index.js.map\n"],"names":["Object","defineProperty","exports","value","enumerable","get","_utils","createApiUrl","fetchFromApiUrl","fetchFromApi","imageProxy","default","REACT_ELEMENT_TYPE","_react","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","desc","getOwnPropertyDescriptor","set","require","_Card","_typeof","Symbol","iterator","constructor","_extends","assign","target","i","arguments","length","source","apply","this","_objectSpread","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","forEach","_defineProperty","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","p","_assertThisInitialized","self","ReferenceError","configurable","writable","_jsx","type","props","children","for","defaultProps","childrenLength","propName","childArray","Array","$$typeof","ref","_owner","Card","_ref","url","size","title","description","Fragment","CardMedia","image","video","cardSize","autoPlay","controls","muted","loop","playsInline","CardContent","className","Microlink","_Component","_getPrototypeOf2","_this","instance","Constructor","TypeError","_len","args","_key","loading","_this$props","noFetch","Promise","resolve","then","_ref2","mergeData","data","fetchData","setData","imagesProps","payload","isFunction","someProp","imageUrl","getUrlPath","_ref3","setState","color","backgroundColor","background_color","protoProps","subClass","superClass","create","Component","prevProps","_this$state","state","loadingState","_this$props2","loadingProp","excluded","sourceKeys","indexOf","sourceSymbolKeys","propertyIsEnumerable","_objectWithoutProperties","isNil","createElement","CardWrap","href","CardEmpty","descriptor","_defineProperties","staticProps","apiKey","reverse","defaultApiParameters"],"mappings":"AAEAA,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,OAAAA,IAEFH,OAAOC,eAAeC,QAAS,eAAgB,CAC7CE,YAAAA,EACAC,IAAK,kBACIC,EAAOC,gBAGlBP,OAAOC,eAAeC,QAAS,kBAAmB,CAChDE,YAAAA,EACAC,IAAK,kBACIC,EAAOE,mBAGlBR,OAAOC,eAAeC,QAAS,eAAgB,CAC7CE,YAAAA,EACAC,IAAK,kBACIC,EAAOG,gBAGlBT,OAAOC,eAAeC,QAAS,aAAc,CAC3CE,YAAAA,EACAC,IAAK,kBACIC,EAAOI,cAGlBR,QAAQS,aAAAA,EAER,IAoCIC,EApCAC,EAMJ,SAAiCC,MAAWA,GAAOA,EAAIC,WAAAA,OAAqBD,MAAkBE,EAAS,MAAe,MAAPF,EAAAA,IAAoB,IAAIG,KAAOH,EAAAA,GAAWd,OAAOkB,UAAUC,eAAeC,KAAKN,EAAKG,GAAM,KAAMI,EAAOrB,OAAOC,gBAAkBD,OAAOsB,yBAA2BtB,OAAOsB,yBAAyBR,EAAKG,GAAO,GAAQI,EAAKhB,KAAOgB,EAAKE,IAAOvB,OAAOC,eAAee,EAAQC,EAAKI,GAAgBL,EAAOC,GAAOH,EAAIG,UAAcD,EAAOL,QAAUG,EAAYE,EAA7c,CANqCQ,QAAQ,UAEzCC,EAAQD,QAAQ,qBAEhBlB,EAASkB,QAAQ,WAIrB,SAASE,EAAQZ,UAAkFY,EAArD,mBAAXC,QAAoD,iBAApBA,OAAOC,SAAmC,SAAiBd,iBAAqBA,GAA2B,SAAiBA,UAAcA,GAAyB,mBAAXa,QAAyBb,EAAIe,cAAgBF,QAAUb,IAAQa,OAAOT,UAAY,gBAAkBJ,IAAyBA,GAExV,SAASgB,WAAaA,EAAW9B,OAAO+B,QAAU,SAAUC,OAAAA,IAAAA,EAAAA,UAAmBC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,KAAMG,EAASF,EAAUD,OAAS,IAAIhB,KAAOmB,EAAcpC,OAAOkB,UAAUC,eAAeC,KAAKgB,EAAQnB,KAAQe,EAAOf,GAAOmB,EAAOnB,WAAmBe,IAA2BK,MAAMC,KAAMJ,WAMhT,SAASK,EAAcP,OAAAA,IAAAA,EAAAA,UAAmBC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,KAAMG,EAAyB,MAAhBF,EAAUD,GAAaC,EAAUD,GAAK,GAAQO,EAAUxC,OAAOyC,KAAKL,sBAAoBpC,OAAO0C,wBAAwCF,EAAUA,EAAQG,OAAO3C,OAAO0C,sBAAsBN,GAAQQ,OAAO,SAAUC,UAAc7C,OAAOsB,yBAAyBc,EAAQS,GAAKzC,eAAmBoC,EAAQM,QAAQ,SAAU7B,GAAO8B,EAAgBf,EAAQf,EAAKmB,EAAOnB,aAAoBe,EAUxd,SAASgB,EAAgBC,UAAKD,EAAkBhD,OAAOkD,eAAiBlD,OAAOmD,eAAiB,SAAyBF,UAAYA,EAAEG,WAAapD,OAAOmD,eAAeF,KAA8BA,GAIxM,SAASI,EAAgBJ,EAAGK,UAAKD,EAAkBrD,OAAOkD,gBAAkB,SAAyBD,EAAGK,UAAKL,EAAEG,UAAYE,EAAUL,IAA6BA,EAAGK,GAErK,SAASC,EAAuBC,WAAAA,IAAYA,EAAAA,MAAyB,IAAIC,eAAe,oEAAuED,EAE/J,SAAST,EAAgBjC,EAAKG,EAAKd,UAAac,KAAOH,EAAOd,OAAOC,eAAea,EAAKG,EAAK,CAAEd,MAAOA,EAAOC,YAAAA,EAAkBsD,cAAAA,EAAoBC,UAAAA,IAA4B7C,EAAIG,GAAOd,EAAgBW,EAI3M,SAAS8C,EAAKC,EAAMC,EAAO7C,EAAK8C,OAAAA,EAAAA,UAAiBnD,IAAsBA,EAAuC,mBAAXe,QAAyBA,OAAOqC,KAAOrC,OAAOqC,IAAI,kBAAoB,WAAcC,EAAeJ,GAAQA,EAAKI,aAAkBC,EAAiBhC,UAAUC,OAAS,KAAQ2B,GAA4B,IAAnBI,IAAwBJ,EAAQ,CAAEC,cAAAA,IAA0BD,GAASG,EAAAA,IAAqB,IAAIE,KAAYF,OAAAA,IAAoBH,EAAMK,KAAwBL,EAAMK,GAAYF,EAAaE,SAA2BL,IAASA,EAAQG,GAAgB,OAA6B,IAAnBC,EAAwBJ,EAAMC,SAAWA,OAAiB,GAAIG,EAAiB,EAAG,KAAA,IAAME,EAAa,IAAIC,MAAMH,GAA0BjC,EAAI,EAAGA,EAAIiC,EAAgBjC,IAAOmC,EAAWnC,GAAKC,EAAUD,EAAI,GAAM6B,EAAMC,SAAWK,QAAqB,CAAEE,SAAU1D,EAAoBiD,KAAMA,EAAM5C,SAAAA,IAAKA,EAAoB,KAAO,GAAKA,EAAKsD,IAAK,KAAMT,MAAOA,EAAOU,OAAQ,MAEv4B,IAAIC,EAAO,SAAcC,OAGnBC,EAAMD,EAAKC,IACXC,EAAOF,EAAKE,KAMZC,EAAQH,EAAKG,MACbC,EAAcJ,EAAKI,mBAChBlB,EAAK/C,EAAOkE,SAAU,QAAA,EAAYnB,EAAKnC,EAAMuD,UAAW,CAC7DC,MAZUP,EAAKO,MAafC,MAZUR,EAAKQ,MAafP,IAAKA,EACLQ,SAAUP,EACVQ,SAZaV,EAAKU,SAalBC,SAZaX,EAAKW,SAalBC,MAZUZ,EAAKY,MAafC,KAZSb,EAAKa,KAadC,YAZgBd,EAAKc,cAanB5B,EAAKnC,EAAMgE,YAAa,CAC1BC,UAAW,0BACXb,MAAOA,EACPC,YAAaA,EACbH,IAAKA,EACLQ,SAAUP,MAIVe,EAEJ,SAAUC,YAGCD,QACHE,EAEAC,EAvDkC1E,EAAAA,EAAAA,WAN1C,SAAyB2E,EAAUC,QAAqBD,aA+D9BJ,GA/DkDK,MAAsB,IAAIC,UAAU,qCAAhH,CA+DoB3D,UAEX,IAAI4D,EAAOhE,UAAUC,OAAQgE,EAAO,IAAI9B,MAAM6B,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/ED,EAAKC,GAAQlE,EAAUkE,UAGU9D,KA/DGlB,GA+DIyE,EAAmB7C,EAAgB2C,IAAYvE,KAAKiB,MAAMwD,EAAkB,CAACvD,MAAMK,OAAOwD,IAApIL,GA/DkD1E,GAA2B,WAAlBM,EAAQN,IAAsC,mBAATA,EAA8CmC,EA+D3GjB,MA/D4FlB,EAiE/H2B,EAAgBQ,EAAuBA,EAAuBuC,IAAS,QAAS,CAC9EO,SAAAA,IAGFtD,EAAgBQ,EAAuBA,EAAuBuC,IAAS,YAAa,eAC9EQ,EAAcR,EAAMhC,OACVwC,EAAYC,UAChBD,EAAY3B,IACQ6B,QAAQC,QAAQ,KAAA,EAAUnG,EAAOG,cAAcqF,EAAMhC,QAC7E4C,KAAK,SAAUC,UAEZb,EAAMc,UADFD,EAAME,UAKrB9D,EAAgBQ,EAAuBA,EAAuBuC,IAAS,YAAa,SAAUgB,OACxFC,EAAUjB,EAAMhC,MAAMiD,QACtBC,EAAc,GAAGrE,OAAOmD,EAAMhC,MAAMmB,OACpCgC,GAAAA,EAAc3G,EAAO4G,YAAYH,GAAWA,EAAQD,GAAavE,EAAc,GAAIuE,EAAWC,GAC9F9B,GAAAA,EAAY3E,EAAO6G,UAAUF,EAASD,GACtCI,GAAAA,EAAe9G,EAAO+G,YAAYpC,GAMlCqC,EAAQrC,GAAS,GAIrBa,EAAMyB,SAAS,CACbC,MAJUF,EAAME,MAKhBC,gBAJoBH,EAAMI,iBAK1B7C,MAZUoC,EAAQpC,MAalBC,YAZgBmC,EAAQnC,YAaxBH,IAZQsC,EAAQtC,IAahB0B,SAAAA,EACAnB,MAbU+B,EAAQ/B,MAclBD,MAAOmC,MAIJtB,MA7GwB6B,SAMnC,SAAmBC,EAAUC,MAAwC,mBAAfA,GAA4C,OAAfA,EAAAA,MAA6B,IAAI5B,UAAU,sDAAyD2B,EAAS1G,UAAYlB,OAAO8H,OAAOD,GAAcA,EAAW3G,UAAW,CAAEW,YAAa,CAAE1B,MAAOyH,EAAUjE,UAAAA,EAAgBD,cAAAA,KAA6BmE,GAAYxE,EAAgBuE,EAAUC,GAAnX,CA8CYlC,EA0HV9E,EAAOkH,YA9K0BJ,EAgHT,CAAC,CACvB1G,IAAK,oBACLd,MAAO,gBACA2G,cAEN,CACD7F,IAAK,qBACLd,MAAO,SAA4B6H,GAC7BA,EAAUrD,MAAQrC,KAAKwB,MAAMa,KAAKrC,KAAKwE,cAE5C,CACD7F,IAAK,SACLd,MAAO,eACD8H,EAAc3F,KAAK4F,MACnBrD,EAAQoD,EAAYpD,MACpB2C,EAAQS,EAAYT,MACpBC,EAAkBQ,EAAYR,gBAC9B9C,EAAMsD,EAAYtD,IAClBwD,EAAeF,EAAY5B,QAC3BvB,EAAcmD,EAAYnD,YAC1BG,EAAQgD,EAAYhD,MACpBC,EAAQ+C,EAAY/C,MAEpBkD,EAAe9F,KAAKwB,MACpBsB,EAAWgD,EAAahD,SACxBC,EAAW+C,EAAa/C,SACxBE,EAAO6C,EAAa7C,KACpBD,EAAQ8C,EAAa9C,MACrBE,EAAc4C,EAAa5C,YAC3BE,EAAY0C,EAAa1C,UACzBd,EAAOwD,EAAaxD,KACpByD,EAAcD,EAAa/B,QAC3BvC,EA1JV,SAAkC1B,EAAQkG,MAA0B,MAAVlG,EAAgB,MAAO,OAAsEnB,EAAKgB,EAAnED,EAEzF,SAAuCI,EAAQkG,MAA0B,MAAVlG,EAAgB,MAAO,OAA+DnB,EAAKgB,EAA5DD,EAAS,GAAQuG,EAAavI,OAAOyC,KAAKL,OAA0BH,EAAI,EAAGA,EAAIsG,EAAWpG,OAAQF,IAAgCqG,EAASE,QAAlCvH,EAAMsH,EAAWtG,KAAiC,IAAaD,EAAOf,GAAOmB,EAAOnB,WAAee,EAA1S,CAFgII,EAAQkG,MAA2BtI,OAAO0C,sBAAuB,KAAM+F,EAAmBzI,OAAO0C,sBAAsBN,OAAcH,EAAI,EAAGA,EAAIwG,EAAiBtG,OAAQF,IAAsCqG,EAASE,QAAxCvH,EAAMwH,EAAiBxG,KAAiC,GAAkBjC,OAAOkB,UAAUwH,qBAAqBtH,KAAKgB,EAAQnB,KAAgBe,EAAOf,GAAOmB,EAAOnB,WAAiBe,EA0Jjd2G,CAAyBP,EAAc,CAAC,WAAY,WAAY,OAAQ,QAAS,cAAe,YAAa,OAAQ,YAE7H/B,GAAAA,EAAc/F,EAAOsI,OAAOP,GAAeF,EAAeE,SACvDxH,EAAOF,QAAQkI,cAAcpH,EAAMqH,SAAUhH,EAAS,CAC3D4D,UAAWA,EAAY,kBAAkB/C,OAAO+C,GAAa,iBAC7DqD,KAAMpE,EACNE,MAAOA,EACPM,SAAUP,EACV4C,MAAOA,EACPC,gBAAiBA,EACjBpB,QAASA,GACRvC,GAAQuC,EAAUzC,EAAKnC,EAAMuH,UAAW,CACzC7D,SAAUP,IACPhB,EAAKa,EAAM,CACdI,MAAOA,EACPC,YAAaA,EACbH,IAAKA,EACLM,MAAOA,EACPC,MAAOA,EACPE,SAAUA,EACVC,SAAUA,EACVE,KAAMA,EACND,MAAOA,EACPE,YAAaA,EACbZ,KAAMA,UA1Kd,SAA2B5C,EAAQ8B,OAAc,IAAI7B,EAAI,EAAGA,EAAI6B,EAAM3B,OAAQF,IAAK,KAAMgH,EAAanF,EAAM7B,GAAIgH,EAAW7I,WAAa6I,EAAW7I,aAAAA,EAAqB6I,EAAWvF,cAAAA,EAAyB,UAAWuF,IAAYA,EAAWtF,UAAAA,GAAiB3D,OAAOC,eAAe+B,EAAQiH,EAAWhI,IAAKgI,IAE/NC,CAgH/DvD,EAhH6FzE,UAAWyG,GAAiBwB,EAmDxI,GA6HAxD,EAAU1B,aAAe1B,EAAc,CACrC6G,YAAAA,EACAhE,UAAAA,EACAC,UAAAA,EACAJ,MAAO,CAAC,aAAc,QAAS,QAC/BM,MAAAA,EACAD,OAAAA,EACAE,aAAAA,EACA6D,SAAAA,EACAzE,KAAM,UACLtE,EAAOgJ,sBAEVpJ,QAAQS,QADOgF"}