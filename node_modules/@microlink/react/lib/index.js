Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"createApiUrl",{enumerable:!0,get:function(){return o.createApiUrl}}),Object.defineProperty(exports,"fetchFromApiUrl",{enumerable:!0,get:function(){return o.fetchFromApiUrl}}),Object.defineProperty(exports,"fetchFromApi",{enumerable:!0,get:function(){return o.fetchFromApi}}),Object.defineProperty(exports,"imageProxy",{enumerable:!0,get:function(){return o.imageProxy}}),exports.default=void 0;var e,t=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t.default=e,t}(require("react")),r=require("./components/Card"),o=require("./utils");function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=arguments,r=1;r<arguments.length;r++){var o=t[r];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)t.indexOf(r=i[o])>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t.indexOf(r=i[o])>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function a(e){for(var t=arguments,r=1;r<arguments.length;r++){var o=null!=t[r]?t[r]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){p(e,t,o[t])})}return e}function c(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(t,r,o,n){var i=arguments;e||(e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var l=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={children:void 0}),r&&l)for(var c in l)void 0===r[c]&&(r[c]=l[c]);else r||(r=l||{});if(1===a)r.children=n;else if(a>1){for(var u=new Array(a),f=0;f<a;f++)u[f]=i[f+3];r.children=u}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:r,_owner:null}}var d=function(e){var o=e.url,n=e.size,i=e.title,l=e.description;return y(t.Fragment,{},void 0,y(r.CardMedia,{image:e.image,video:e.video,url:o,cardSize:n,autoPlay:e.autoPlay,controls:e.controls,muted:e.muted,loop:e.loop,playsInline:e.playsInline}),y(r.CardContent,{className:"microlink_card__content",title:i,description:l,url:o,cardSize:n}))},b=function(e){function b(){var e,t,r,i,l=arguments;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);for(var c=arguments.length,f=new Array(c),y=0;y<c;y++)f[y]=l[y];return r=this,i=(e=u(b)).call.apply(e,[this].concat(f)),t=!i||"object"!==n(i)&&"function"!=typeof i?s(r):i,p(s(s(t)),"state",{loading:!0}),p(s(s(t)),"fetchData",function(){var e=t.props;(e.noFetch||!e.url?Promise.resolve({}):(0,o.fetchFromApi)(t.props)).then(function(e){return t.mergeData(e.data)})}),p(s(s(t)),"mergeData",function(e){var r=t.props.setData,n=[].concat(t.props.image),i=(0,o.isFunction)(r)?r(e):a({},e,r),l=(0,o.someProp)(i,n),c=(0,o.getUrlPath)(l),u=l||{};t.setState({color:u.color,backgroundColor:u.background_color,title:i.title,description:i.description,url:i.url,loading:!1,video:i.video,image:c})}),t}var m,g,v;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(b,t.Component),m=b,(g=[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){e.url!==this.props.url&&this.fetchData()}},{key:"render",value:function(){var e=this.state,n=e.title,a=e.color,c=e.backgroundColor,u=e.url,f=e.loading,s=e.description,p=e.image,b=e.video,m=this.props,g=m.autoPlay,v=m.controls,O=m.loop,h=m.muted,P=m.playsInline,j=m.className,w=m.size,_=m.loading,S=l(m,["autoPlay","controls","loop","muted","playsInline","className","size","loading"]),k=(0,o.isNil)(_)?f:_;return t.default.createElement(r.CardWrap,i({className:j?"microlink_card ".concat(j):"microlink_card",href:u,title:n,cardSize:w,color:a,backgroundColor:c,loading:k},S),k?y(r.CardEmpty,{cardSize:w}):y(d,{title:n,description:s,url:u,image:p,video:b,autoPlay:g,controls:v,loop:O,muted:h,playsInline:P,size:w}))}}])&&c(m.prototype,g),v&&c(m,v),b}();b.defaultProps=a({apiKey:void 0,autoPlay:!0,controls:!0,image:["screenshot","image","logo"],loop:!0,muted:!0,playsInline:!0,reverse:!1,size:"normal"},o.defaultApiParameters),exports.default=b;
//# sourceMappingURL=index.js.map
